"use strict";console.log("\n %c MetingJS v1.2.0 %c https://github.com/metowolf/MetingJS \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");var aplayers=[],loadMeting=function(){function s(a,t){var e={container:a,audio:t,mini:null,fixed:null,autoplay:!1,mutex:!0,lrcType:3,listFolded:!1,preload:"auto",theme:"#2980b9",loop:"all",order:"list",volume:null,listMaxHeight:null,customAudioType:null,storageName:"metingjs"};if(t.length){t[0].lrc||(e.lrcType=0);var r={};for(var s in e){var n=s.toLowerCase();(a.dataset.hasOwnProperty(n)||a.dataset.hasOwnProperty(s)||null!==e[s])&&(r[s]=a.dataset[n]||a.dataset[s]||e[s],"true"!==r[s]&&"false"!==r[s]||(r[s]="true"==r[s]))}aplayers.push(new APlayer(r))}}var n="https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r";"undefined"!=typeof meting_api&&(n=meting_api);for(var a=0;a<aplayers.length;a++)if(!aplayers[a].container.classList.contains("no-destroy"))try{aplayers[a].destroy()}catch(s){console.log(s)}aplayers=[];for(var o=document.querySelectorAll(".aplayer"),l=0;l<o.length;l++){(function(){var t=o[l];if(t.classList.contains("no-reload"))return"continue";if(t.classList.contains("no-destroy")&&t.classList.add("no-reload"),t.dataset.id){var a=t.dataset.api||n;a=a.replace(":server",t.dataset.server),a=a.replace(":type",t.dataset.type),a=a.replace(":id",t.dataset.id),a=a.replace(":auth",t.dataset.auth),a=a.replace(":r",Math.random());var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState&&(e.status>=200&&e.status<300||304===e.status)){var a=JSON.parse(e.responseText);s(t,a)}},e.open("get",a,!0),e.send(null)}else if(t.dataset.url){var r=[{name:t.dataset.name||t.dataset.title||"Audio name",artist:t.dataset.artist||t.dataset.author||"Audio artist",url:t.dataset.url,cover:t.dataset.cover||t.dataset.pic,lrc:t.dataset.lrc,type:t.dataset.type||"auto"}];s(t,r)}})()}};document.addEventListener("DOMContentLoaded",loadMeting,!1);